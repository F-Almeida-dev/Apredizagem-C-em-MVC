@using Microsoft.IdentityModel.Tokens
@model List<DevConnect.Models.TbPublicacao>
 <h1>Página de Feed</h1>

<link rel="stylesheet" href="~/css/feed.css">

<script defer>
    let PublicacaoNovaCadastrado = "@ViewBag.PublicacaoCadastrada";

    if(PublicacaoNovaCadastrado == "Nao cadastrada"){
      alert("Usuário não cadastrado! Tente novamente!!!");
    }

    else if(PublicacaoNovaCadastrado == "Cadastrada"){
      alert("Publicação postada...");
    }

</script>

 <h1>Tela Feed - DevConnect</h1>

  <header id="cabecalho">

    <nav>
      <a id="logo-desktop" asp-controller="Home" asp-action="Index">
        <img src="../images/logo-devconnect-md.svg" alt="Logo da empressa DevConnect">
      </a>

      <a id="logo-mobile" href="./feed.html">
        <img src="../images/logo-devconnect-sm.svg" alt="Logo da empressa DevConnect">
      </a>

      <div class="cabecalho-acoes">

        <a asp-controller="Home" asp-action="Index">
          <img src="../images/icone-casa-azul.svg" alt="Ícone de uma casa na cor azul">
        </a>

        <a href="#">
          <img src="../images/icone-coracao-azul.svg" alt="Ícone de uma coração azul">
        </a>

        <a asp-controller="Usuario" asp-action="Perfil">
          <img class="foto-perfil" src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
        </a>

      </div>
    </nav>
  </header>

  <main>
    <div class="container-flex-publi">

      <section id="storys" class="formulario">
        <article class="card-story">
          <a href="#">
            <img src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
            <span>pennywise</span>
          </a>
        </article>

        <article class="card-story">
          <a href="#">
            <img src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
            <span>pennywise</span>
          </a>
        </article>

        <article class="card-story">
          <a href="#">
            <img src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
            <span>pennywise</span>
          </a>
        </article>

        <article class="card-story">
          <a href="#">
            <img src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
            <span>pennywise</span>
          </a>
        </article>
        
        <article class="card-story">
          <a href="#">
            <img src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
            <span>pennywise</span>
          </a>
        </article>
        
        <article class="card-story">
          <a href="#">
            <img src="../images/bill-it-acoisa.jpg" alt="Foto de perfil">
            <span>pennywise</span>
          </a>
        </article>


        <article class="card-story">
          <a href="#">
            <img src="../images/98629953578bf8905079d4a2dfcc407f.jpg" alt="Foto de perfil"> <span>chavito</span>
          </a>
        </article>

        <article class="card-story">
          <a href="#">
            <img src="../images/d5c40eee39a0cec1e4b56499e4eef910.jpg" alt="Foto de perfil"> <span>bantata</span>
          </a>
        </article>

        <article class="card-story">
          <a href="#">
            <img src="../images/images.jpg" alt="Foto de perfil"> <span>rogeriio</span>
          </a>

        </article>
      </section>

      <section id="cadastro-publi" class="estilo-formulario">

        <h2>Publicação</h2>

        <form enctype="multuipart/form-data" methot= "post" asp-controller="Feed" asp-action="Index">
        <textarea name="Descricao" id="escrever texto" placeholder="Digite aqui na descricao do post" required></textarea>

        <footer>


          <div>
            <label for="campo-upload" id="texto-upload">Faça upload da sua imagem aqui....
            </label>
            <input type="file" name="image" id="campo-upload">

            <button type="submit" class="formulario-botao-azul">Postar</button>

        </form>

           </div>
        </footer>
      </section>
 

      <section id="publicacoes">

      @foreach (TbPublicacao publi in Model)
      {
      
      if(!publi.ImagemUrl.IsNullOrEmpty())
      { 
        <article class="card-publi">
          <header>

            <a href="#">
              <img class="foto-perfil" src="~/images/@publi.IdUsuarioNavigation?.FotoPerfilUrl">
              alt="Foto de Perfil"
              @publi.IdUsuarioNavigation?.NomeDeUsuario
            </a>
          </header>
          <figure>
            <img class="imagem-publicacao" src="~/images/@publi.ImagemUrl" alt="">

            <figcaption class="descricao-publicacao">
             @publi.IdUsuarioNavigation?.NomeDeUsuario
             <p>@publi.Descricao</p>
            </figcaption>

            <div class="interacoes-publicacao">
              <button>
                <img src="../images/icone-coracao-preto.svg" alt="">
              </button>

              <button>
                <img src="../images/icone-comentario-preto.svg" alt="">
              </button>

              <span>150k de curtidas</span>

            </div>


          </figure>

           <button type="button">Ver mais comentários...</button>

        </article>


      }
     
     
      }

      
      </section>




    </div>
  </main>